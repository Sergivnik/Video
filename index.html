<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        background: black;
        color: #cccccc;
      }
      #c1 {
        background-repeat: no-repeat;
      }
      #c2 {
        background-repeat: no-repeat;
      }
      div {
        float: left;
        border: 1px solid #444444;
        padding: 10px;
        margin: 10px;
        background: #3b3b3b;
      }
    </style>
  </head>

  <body>
    <div>
      <!-- <video
        id="video"
        src="http://techslides.com/demos/sample-videos/small.mp4"
        controls="true"
      ></video> -->
      <video
        id="video"
        src="sample-mp4-file.mp4"
        controls="true"
        width="350"
        height="250"
      ></video>
    </div>
    <div id="canvasDiv"></div>
    <p id="p1"></p>
    <script>
      let video = document.getElementById("video");
      let div = document.getElementById("canvasDiv");
      let p1 = document.getElementById("p1");
      video.addEventListener("loadedmetadata", async () => {
        p1.innerText = video.duration;
        video.volume = 0;
        let canvas;
        j = 0;
        for (let i = 1; i <= video.duration; i = i + video.duration / 5) {
          canvas = document.createElement("canvas");
          canvas.width = "350";
          canvas.height = "250";
          div.append(canvas);
          ctx = canvas.getContext("2d");
          video.currentTime = i;
          await video.play();
          ctx.drawImage(video, 0, 0);
        }
        await video.pause();
      });
    </script>
  </body>
</html>
